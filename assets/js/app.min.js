var navbar,subbar;function activateLink(a){$(".sub-nav li.menuItem").removeClass("active"),a.parent("li.menuItem").addClass("active")}$(function(e){navbar=e(".navbar-wrapper"),subbar=e(".sub-nav"),e(document).ready(function(){navbar.sticky({topSpacing:0})}),e(document).scroll(function(){refreshPies()}),refreshPies();var t,i,a,n,o,s=[];e("a",subbar).each(function(){this.hash&&s.push(e(this.hash))}).click(function(a){if(this.hash)return a.preventDefault(),activateLink(e(this)),goTo(this.hash)}),e(window).scroll(function(){var a,n=e(this).scrollTop()+navbar.height()+subbar.height();for(a in s)n>s[a].offset().top&&(i=s[a].attr("id"));i!==t&&activateLink(e('a[href="#'+(t=i)+'"]'))}),0<e("section#contact").length&&(a="scrolloff",n=e("#map"),(o=e(".map-area")).on("mouseup",function(){n.addClass(a)}),o.on("mousedown",function(){n.removeClass(a)}),n.on("mouseleave",function(){n.addClass(a)}),n.addClass(a))});var index=0;function refreshPies(){$("#skill").height()-$(window).scrollTop()<-300&&(0===index&&$(".chart").easyPieChart({barColor:"#D21F42",easing:"easeOutBounce",onStep:function(a,n,e){$(this.el).find(".percent").text(Math.round(e))}}),index++)}function goTo(a){var n=$(a);return!(n=n.length?n:$("[name="+a.slice(1)+"]")).length||($("html,body").animate({scrollTop:n.offset().top-navbar.height()},1e3),!1)}